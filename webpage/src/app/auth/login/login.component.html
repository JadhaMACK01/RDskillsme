<!-- this is the login page, user need to input the registerd username and matched password to enter their dashboard-->
<body>
  <div class="row">
    
    <div class="login-form" *ngIf="!authService.isLoggedIn">
      <img src='../../../assets/logo.png' alt="logo" style="width:200px;height:100px;">
        <form [formGroup]="loginForm" >
          
          <h1 class="text-center">Login</h1>
          <!-- Email -->
          <div class="mb-3">
            <mat-form-field appearance="fill">
              <mat-label>Enter your email <mat-icon>email</mat-icon></mat-label>
              <input matInput placeholder="pat@example.com" formControlName="email" required  [ngClass]="{ 'is-invalid': submitted && f.email.errors }" >
              
              <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                  <mat-error *ngIf="f.email.errors.required">Email is required</mat-error>
                  <mat-error *ngIf="f.email.errors.email">Email must be a valid email address</mat-error>
              </div>
            </mat-form-field>
          </div>
          
          <!-- Password -->
          <div class="mb-3">
            <mat-form-field appearance="fill">
              <mat-label>Enter your password <mat-icon>lock_open</mat-icon></mat-label>
              <input type="password" matInput [type]="hide ? 'password' : 'text'" formControlName="password" required [ngClass]="{ 'is-invalid': submitted && f.password.errors }">
              
              <button class="icon" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
               <!--hint-->
              <!--Must contain at least one number and one uppercase and lowercase letter, and at least 6 or more characters-->
              <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                <mat-error *ngIf="f.password.errors.required">Password is required</mat-error>
                <mat-error *ngIf="f.password.errors.pattern">Password must contain at least one number and one uppercase and lowercase letter, and at least 6 or more characterss</mat-error>
               </div>
            </mat-form-field>
          </div>
  
          <!-- Remember the username/email address -->
          <div class="mb-3">
            <label class="float-left form-check-label"><input type="checkbox"> Remember me</label>
  
            <a class="float-right" [routerLink]="['/reset-password']">Forgot Password</a>
          </div>
  
          <!-- button: login to the dashboard page -->
          <button  (click)="onSubmit()" class="btn btn-primary">Log in </button>
  
        </form>
        <!-- Create a new account (enter to the register page)-->
        <p class="text-center"> New user?   <a [routerLink]="['/register']">Sign up</a></p>
    </div>
  </div>
  </body>
  
  
  
  